<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book 读书笔记 -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Chapter 3 | 读书笔记</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.4.3">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-betterchinese/unicode.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
    
        <link rel="stylesheet" href="../custom.css">
    

        
    
    
    
    <link rel="prev" href="../cpp-primer/chapter2.html" />
    

        <!-- head:end -->
    </head>
    <body class="">
        <!-- body:start -->
        
    <div class="book" data-level="3.3" data-basepath=".." data-revision="Mon Oct 26 2015 05:35:14 GMT+0000 (UTC)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
            
            <li>
                <a href="http://oncemore2020.gitcafe.io/" target="blank" class="custom-link">返回主页</a>
            </li>
        
        

        
        <li class="divider"></li>
        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="a-song-of-ice-and-fire/index.html">
            
                
                    <a href="../a-song-of-ice-and-fire/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        《A Song of Ice and Fire》
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="a-song-of-ice-and-fire/a-game-of-thrones.html">
            
                
                    <a href="../a-song-of-ice-and-fire/a-game-of-thrones.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        《A Game of Thrones》
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="clean-code/clean-code.html">
            
                
                    <a href="../clean-code/clean-code.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        《Clean Code》
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="cpp-primer/index.html">
            
                
                    <a href="../cpp-primer/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        《C++ primer》
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="cpp-primer/chapter1.html">
            
                
                    <a href="../cpp-primer/chapter1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Chapter 1
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="cpp-primer/chapter2.html">
            
                
                    <a href="../cpp-primer/chapter2.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Chapter 2
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="3.3" data-path="cpp-primer/chapter3.html">
            
                
                    <a href="../cpp-primer/chapter3.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Chapter 3
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    

    
    
    
    
    <a href="#" target="_blank" class="btn pull-right weibo-sharing-link sharing-link" data-sharing="weibo" aria-label="Weibo"><i class="fa fa-weibo"></i></a>
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >读书笔记</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h2 id="chapter-3-strings-vectors-and-arrays"><a name="chapter-3-strings-vectors-and-arrays" class="plugin-anchor" href="#chapter-3-strings-vectors-and-arrays"><span class="fa fa-link"></span></a>Chapter 3. Strings, Vectors, and Arrays</h2>
<h3 id="exercise-3-1"><a name="exercise-3-1" class="plugin-anchor" href="#exercise-3-1"><span class="fa fa-link"></span></a>Exercise 3.1</h3>
<blockquote>
<p>Rewrite the exercises from &#xA7; 1.4.1 and &#xA7; 2.6.2 with appropriate using declarations.</p>
</blockquote>
<p>&#x5728;&#x4E3B;&#x51FD;&#x6570;&#x524D;&#x6DFB;&#x52A0;</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::endl;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cerr</span>;
</code></pre>
<h3 id="exercise-3-2"><a name="exercise-3-2" class="plugin-anchor" href="#exercise-3-2"><span class="fa fa-link"></span></a>Exercise 3.2</h3>
<blockquote>
<p>Write a program to read the standard input a line at a time. Modify your program to read a word at a time.</p>
</blockquote>
<p>&#x4E00;&#x6B21;&#x4E00;&#x884C;(<code>getline()</code>&#x80FD;&#x4FDD;&#x7559;&#x8F93;&#x5165;&#x7684;&#x7A7A;&#x767D;&#x7B26;)</p>
<pre><code class="lang-cpp"><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::endl;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::getline;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">string</span> str; getline(<span class="hljs-built_in">cin</span>, str); <span class="hljs-built_in">cout</span> &lt;&lt; str &lt;&lt; endl);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x4E00;&#x6B21;&#x4E00;&#x8BCD;</p>
<pre><code class="lang-cpp"><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::endl;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">string</span> str; <span class="hljs-built_in">cin</span> &gt;&gt; str; <span class="hljs-built_in">cout</span> &lt;&lt; str &lt;&lt; endl);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h3 id="exercise-3-3"><a name="exercise-3-3" class="plugin-anchor" href="#exercise-3-3"><span class="fa fa-link"></span></a>Exercise 3.3</h3>
<blockquote>
<p>Explain how whitespace characters are handled in the string
input operator and in the <code>getline</code> function.</p>
</blockquote>
<ul>
<li><code>is &gt;&gt; s</code> &#x8F93;&#x5165;&#x6570;&#x636E;&#x6309;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#x5206;&#x5272;</li>
<li><code>getline(is, s)</code> &#x8F93;&#x5165;&#x6570;&#x636E;&#x6309;<code>\n</code>&#x5206;&#x5272;&#xFF0C;&#x4FDD;&#x7559;&#x5176;&#x5B83;&#x7A7A;&#x767D;&#x5B57;&#x7B26;</li>
<li><code>getline(is, s, delim)</code> &#x8F93;&#x5165;&#x6570;&#x636E;&#x6309;<code>delim</code>&#x5206;&#x5272;&#xFF0C;&#x4FDD;&#x7559;&#x6240;&#x6709;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#xFF0C;&#x5373;&#x9ED8;&#x8BA4;&#x7684;<code>delim</code>&#x4E3A;&#x6362;&#x884C;&#x7B26;<code>\n</code></li>
</ul>
<h3 id="exercise-3-4"><a name="exercise-3-4" class="plugin-anchor" href="#exercise-3-4"><span class="fa fa-link"></span></a>Exercise 3.4</h3>
<blockquote>
<p>Write a program to read two <code>string</code>s and report whether the <code>string</code>s are equal. If not, report which of the two is larger. Now, change the program to report whether the <code>string</code>s have the same length, and if not, report which is longer.</p>
</blockquote>
<p>&#x8C01;&#x66F4;&#x5927;</p>
<pre><code class="lang-cpp"><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::endl;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">string</span> str1, str2;
    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">cin</span> &gt;&gt; str1 &gt;&gt; str2)
    {
        <span class="hljs-keyword">if</span> (str1 == str2)
            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;The two strings are equal.&quot;</span> &lt;&lt; endl;
        <span class="hljs-keyword">else</span>
            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;The larger string is &quot;</span> &lt;&lt; ((str1 &gt; str2) ? str1 : str2);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x8C01;&#x66F4;&#x957F;</p>
<pre><code class="lang-cpp"><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::endl;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">string</span> str1, str2; <span class="hljs-built_in">cin</span> &gt;&gt; str1 &gt;&gt; str2;)
    {
        <span class="hljs-keyword">if</span> (str1.size() == str2.size())
            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;The two strings have the same length.&quot;</span> &lt;&lt; endl;
        <span class="hljs-keyword">else</span>
            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;The longer string is &quot;</span> &lt;&lt; ((str1.size() &gt; str2.size()) ? str1 : str2) &lt;&lt; endl;
    }

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>&#x6CE8;&#x610F;</strong>&#xFF1A;&#x4E00;&#x4E2A;&#x7528;&#x7684;<code>while</code>&#xFF0C;&#x4E00;&#x4E2A;&#x7528;&#x7684;<code>for</code>&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x6BD4;&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#x3002;</p>
<h3 id="exercise-3-5"><a name="exercise-3-5" class="plugin-anchor" href="#exercise-3-5"><span class="fa fa-link"></span></a>Exercise 3.5</h3>
<blockquote>
<p>Write a program to read <code>string</code>s from the standard input, concatenating what is read into one large <code>string</code>. Print the concatenated <code>string</code>. Next, change the program to separate adjacent input strings by a space.</p>
</blockquote>
<p>&#x76F4;&#x63A5;&#x8FDE;&#x63A5;<code>string</code></p>
<pre><code class="lang-cpp"><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::endl;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">string</span> concatenated;
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">string</span> buffer; <span class="hljs-built_in">cin</span> &gt;&gt; buffer; concatenated += buffer);
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;The concatenated string is &quot;</span> &lt;&lt; concatenated &lt;&lt; endl;

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>&#x7528;&#x7A7A;&#x683C;&#x8FDE;&#x63A5;<code>string</code></p>
<pre><code class="lang-cpp"><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::endl;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">string</span> str;
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">string</span> buff; <span class="hljs-built_in">cin</span> &gt;&gt; buff; str += (str.empty() ? <span class="hljs-string">&quot;&quot;</span> : <span class="hljs-string">&quot; &quot;</span>) + buff);
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;The concatenated string is &quot;</span> &lt;&lt; str &lt;&lt; endl;

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h3 id="exercise-3-6"><a name="exercise-3-6" class="plugin-anchor" href="#exercise-3-6"><span class="fa fa-link"></span></a>Exercise 3.6</h3>
<blockquote>
<p>Use a range for to change all the characters in a <code>string</code> to X.</p>
</blockquote>
<h3 id="exercise-3-7"><a name="exercise-3-7" class="plugin-anchor" href="#exercise-3-7"><span class="fa fa-link"></span></a>Exercise 3.7</h3>
<blockquote>
<p>What would happen if you define the loop control variable in the previous
exercise as type char? Predict the results and then change your program
to use a char to see if you were right.</p>
</blockquote>
<p>The point here is using reference to mutate a string. If changed to something like below, <code>c</code> would become a <code>char</code> rather than <code>char&amp;</code>. In such case, <code>c</code> is a copy of each character of string <code>str</code>, thus the assignment <code>c = &apos;X&apos;</code> won&apos;t mutate <code>str</code>. As a result, after this for range statement, nothing changes.</p>
<pre><code class="lang-cpp"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">str</span><span class="hljs-params">(<span class="hljs-string">&quot;a simple string&quot;</span>)</span></span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">char</span> c : str) c = <span class="hljs-string">&apos;X&apos;</span>;
</code></pre>
<h2 id="-exercise-3-8-ex3-8-cpp"><a name="-exercise-3-8-ex3-8-cpp" class="plugin-anchor" href="#-exercise-3-8-ex3-8-cpp"><span class="fa fa-link"></span></a><a href="ex3_8.cpp">Exercise 3.8</a></h2>
<h2 id="exercise-3-9"><a name="exercise-3-9" class="plugin-anchor" href="#exercise-3-9"><span class="fa fa-link"></span></a>Exercise 3.9</h2>
<blockquote>
<p>What does the following program do? Is it valid? If not, why not?</p>
<pre><code class="lang-cpp"><span class="hljs-built_in">string</span> s;
<span class="hljs-built_in">cout</span> &lt;&lt; s[<span class="hljs-number">0</span>] &lt;&lt; endl;
</code></pre>
</blockquote>
<p>This code was dereferencing and printing the first item stored in <code>s</code>. Since <code>s</code> is empty, such operation is invalid, a.k.a. <strong>undefined behavior</strong>.</p>
<h2 id="-exercise-3-10-ex3-10-cpp"><a name="-exercise-3-10-ex3-10-cpp" class="plugin-anchor" href="#-exercise-3-10-ex3-10-cpp"><span class="fa fa-link"></span></a><a href="ex3_10.cpp">Exercise 3.10</a></h2>
<h2 id="exercise-3-11"><a name="exercise-3-11" class="plugin-anchor" href="#exercise-3-11"><span class="fa fa-link"></span></a>Exercise 3.11</h2>
<blockquote>
<p>Is the following range for legal? If so, what is the type of c?</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> s = <span class="hljs-string">&quot;Keep out!&quot;</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;c : s){ <span class="hljs-comment">/*... */</span> }
</code></pre>
</blockquote>
<p>Depending on the code within for loop body. For example:</p>
<pre><code>cout &lt;&lt; c;  // legal.
c = &apos;X&apos;;    // illegal.
</code></pre><p>The type of <code>c</code> is <code>const char&amp;</code>.</p>
<h2 id="exercise-3-12"><a name="exercise-3-12" class="plugin-anchor" href="#exercise-3-12"><span class="fa fa-link"></span></a>Exercise 3.12</h2>
<blockquote>
<p>Which, if any, of the following vector definitions are in error?
For those that are legal, explain what the definition does.
For those that are not legal, explain why they are illegal.</p>
<pre><code class="lang-cpp"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; ivec;         <span class="hljs-comment">// legal(c++11), vectors.</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; svec = ivec;       <span class="hljs-comment">// illegal, different type.</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; svec(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;null&quot;</span>);  <span class="hljs-comment">// legal, vector have 10 strings: &quot;null&quot;.</span>
</code></pre>
</blockquote>
<h2 id="exercise-3-13"><a name="exercise-3-13" class="plugin-anchor" href="#exercise-3-13"><span class="fa fa-link"></span></a>Exercise 3.13</h2>
<blockquote>
<p>How many elements are there in each of the following
vectors? What are the values of the elements?</p>
<pre><code class="lang-cpp"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v1;         <span class="hljs-comment">// size:0,  no values.</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v2(<span class="hljs-number">10</span>);     <span class="hljs-comment">// size:10, value:0</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v3(<span class="hljs-number">10</span>, <span class="hljs-number">42</span>); <span class="hljs-comment">// size:10, value:42</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v4{ <span class="hljs-number">10</span> };     <span class="hljs-comment">// size:1,  value:10</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v5{ <span class="hljs-number">10</span>, <span class="hljs-number">42</span> }; <span class="hljs-comment">// size:2,  value:10, 42</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; v6{ <span class="hljs-number">10</span> };  <span class="hljs-comment">// size:10, value:&quot;&quot;</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; v7{ <span class="hljs-number">10</span>, <span class="hljs-string">&quot;hi&quot;</span> };  <span class="hljs-comment">// size:10, value:&quot;hi&quot;</span>
</code></pre>
</blockquote>
<h2 id="-exercise-3-14-ex3-14-cpp"><a name="-exercise-3-14-ex3-14-cpp" class="plugin-anchor" href="#-exercise-3-14-ex3-14-cpp"><span class="fa fa-link"></span></a><a href="ex3_14.cpp">Exercise 3.14</a></h2>
<h2 id="-exercise-3-15-ex3-15-cpp"><a name="-exercise-3-15-ex3-15-cpp" class="plugin-anchor" href="#-exercise-3-15-ex3-15-cpp"><span class="fa fa-link"></span></a><a href="ex3_15.cpp">Exercise 3.15</a></h2>
<h2 id="-exercise-3-16-ex3-16-cpp"><a name="-exercise-3-16-ex3-16-cpp" class="plugin-anchor" href="#-exercise-3-16-ex3-16-cpp"><span class="fa fa-link"></span></a><a href="ex3_16.cpp">Exercise 3.16</a></h2>
<h2 id="-exercise-3-17-ex3-17-cpp"><a name="-exercise-3-17-ex3-17-cpp" class="plugin-anchor" href="#-exercise-3-17-ex3-17-cpp"><span class="fa fa-link"></span></a><a href="ex3_17.cpp">Exercise 3.17</a></h2>
<h2 id="-exercise-3-18-ex3-18-cpp"><a name="-exercise-3-18-ex3-18-cpp" class="plugin-anchor" href="#-exercise-3-18-ex3-18-cpp"><span class="fa fa-link"></span></a><a href="ex3_18.cpp">Exercise 3.18</a></h2>
<h2 id="-exercise-3-19-ex3-19-cpp"><a name="-exercise-3-19-ex3-19-cpp" class="plugin-anchor" href="#-exercise-3-19-ex3-19-cpp"><span class="fa fa-link"></span></a><a href="ex3_19.cpp">Exercise 3.19</a></h2>
<h2 id="exercise-3-20-part1-ex3-20a-cpp-part2-ex3-20b-cpp"><a name="exercise-3-20-part1-ex3-20a-cpp-part2-ex3-20b-cpp" class="plugin-anchor" href="#exercise-3-20-part1-ex3-20a-cpp-part2-ex3-20b-cpp"><span class="fa fa-link"></span></a>Exercise 3.20 : <a href="ex3_20a.cpp">part1</a> | <a href="ex3_20b.cpp">part2</a></h2>
<h2 id="-exercise-3-21-ex3-21-cpp"><a name="-exercise-3-21-ex3-21-cpp" class="plugin-anchor" href="#-exercise-3-21-ex3-21-cpp"><span class="fa fa-link"></span></a><a href="ex3_21.cpp">Exercise 3.21</a></h2>
<h2 id="-exercise-3-22-ex3-22-cpp"><a name="-exercise-3-22-ex3-22-cpp" class="plugin-anchor" href="#-exercise-3-22-ex3-22-cpp"><span class="fa fa-link"></span></a><a href="ex3_22.cpp">Exercise 3.22</a></h2>
<h2 id="-exercise-3-23-ex3-23-cpp"><a name="-exercise-3-23-ex3-23-cpp" class="plugin-anchor" href="#-exercise-3-23-ex3-23-cpp"><span class="fa fa-link"></span></a><a href="ex3_23.cpp">Exercise 3.23</a></h2>
<h2 id="-exercise-3-24-ex3-24-cpp"><a name="-exercise-3-24-ex3-24-cpp" class="plugin-anchor" href="#-exercise-3-24-ex3-24-cpp"><span class="fa fa-link"></span></a><a href="ex3_24.cpp">Exercise 3.24</a></h2>
<h2 id="-exercise-3-25-ex3-25-cpp"><a name="-exercise-3-25-ex3-25-cpp" class="plugin-anchor" href="#-exercise-3-25-ex3-25-cpp"><span class="fa fa-link"></span></a><a href="ex3_25.cpp">Exercise 3.25</a></h2>
<h2 id="exercise-3-26"><a name="exercise-3-26" class="plugin-anchor" href="#exercise-3-26"><span class="fa fa-link"></span></a>Exercise 3.26</h2>
<blockquote>
<p>In the binary search program on page 112,
why did we write <code>mid=beg+(end-beg)/2;</code> instead of <code>mid=(beg+end) /2;</code>?</p>
</blockquote>
<p><code>(beg + end)</code> is meaningless.</p>
<h2 id="exercise-3-27"><a name="exercise-3-27" class="plugin-anchor" href="#exercise-3-27"><span class="fa fa-link"></span></a>Exercise 3.27</h2>
<blockquote>
<p>Assuming txt_size is a function that takes no arguments
and returns an int value, which of the following definitions are illegal?
Explain why.</p>
</blockquote>
<pre><code class="lang-cpp"><span class="hljs-keyword">unsigned</span> buf_size = <span class="hljs-number">1024</span>;

<span class="hljs-keyword">int</span> ia[buf_size];   <span class="hljs-comment">// illegal, The dimension value must be a constant expression.</span>
<span class="hljs-keyword">int</span> ia[<span class="hljs-number">4</span> * <span class="hljs-number">7</span> - <span class="hljs-number">14</span>]; <span class="hljs-comment">// legal</span>
<span class="hljs-keyword">int</span> ia[txt_size()]; <span class="hljs-comment">// illegal, The dimension value must be a constant expression.</span>
<span class="hljs-keyword">char</span> st[<span class="hljs-number">11</span>] = <span class="hljs-string">&quot;fundamental&quot;</span>;  <span class="hljs-comment">// illegal, the string&apos;s size is 12.</span>
</code></pre>
<h2 id="exercise-3-28"><a name="exercise-3-28" class="plugin-anchor" href="#exercise-3-28"><span class="fa fa-link"></span></a>Exercise 3.28</h2>
<blockquote>
<p>What are the values in the following arrays?</p>
</blockquote>
<pre><code class="lang-cpp"><span class="hljs-built_in">string</span> sa[<span class="hljs-number">10</span>];      <span class="hljs-comment">//all elements are empty strings</span>
<span class="hljs-keyword">int</span> ia[<span class="hljs-number">10</span>];         <span class="hljs-comment">//all elements are 0</span>

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">string</span> sa2[<span class="hljs-number">10</span>]; <span class="hljs-comment">//all elements are empty strings</span>
    <span class="hljs-keyword">int</span> ia2[<span class="hljs-number">10</span>];    <span class="hljs-comment">//all elements are undefined</span>
}
</code></pre>
<h2 id="exercise-3-29"><a name="exercise-3-29" class="plugin-anchor" href="#exercise-3-29"><span class="fa fa-link"></span></a>Exercise 3.29:</h2>
<blockquote>
<p>List some of the drawbacks of using an array instead of a vector.</p>
</blockquote>
<ol>
<li>Size is fixed at compiling time.</li>
<li>No API as that of vector.</li>
<li>Bug prone.</li>
</ol>
<h2 id="exercise-3-30"><a name="exercise-3-30" class="plugin-anchor" href="#exercise-3-30"><span class="fa fa-link"></span></a>Exercise 3.30</h2>
<blockquote>
<p>Identify the indexing errors in the following code:</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">constexpr</span> <span class="hljs-keyword">size_t</span> array_size = <span class="hljs-number">10</span>;
<span class="hljs-keyword">int</span> ia[array_size];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> ix = <span class="hljs-number">1</span>; ix &lt;= array_size; ++ix)
      ia[ix] = ix;
</code></pre>
</blockquote>
<p>When <code>ix</code> equal to 10, the expression <code>ia[ix]</code> becomes a <strong>UB</strong>, as it is trying to dereference an element out of range.</p>
<h2 id="-exercise-3-31-ex3-31-cpp"><a name="-exercise-3-31-ex3-31-cpp" class="plugin-anchor" href="#-exercise-3-31-ex3-31-cpp"><span class="fa fa-link"></span></a><a href="ex3_31.cpp">Exercise 3.31</a></h2>
<h2 id="-exercise-3-32-ex3-32-cpp"><a name="-exercise-3-32-ex3-32-cpp" class="plugin-anchor" href="#-exercise-3-32-ex3-32-cpp"><span class="fa fa-link"></span></a><a href="ex3_32.cpp">Exercise 3.32</a></h2>
<h2 id="exercise-3-33"><a name="exercise-3-33" class="plugin-anchor" href="#exercise-3-33"><span class="fa fa-link"></span></a>Exercise 3.33</h2>
<blockquote>
<p>What would happen if we did not initialize the scores array in the program
on page 116?</p>
</blockquote>
<p>If so, values of array are undefined. Like this:</p>
<p><img src="https://db.tt/3T4TQoo8" alt="result"></p>
<h2 id="exercise-3-34"><a name="exercise-3-34" class="plugin-anchor" href="#exercise-3-34"><span class="fa fa-link"></span></a>Exercise 3.34</h2>
<blockquote>
<p>Given that p1 and p2 point to elements in the same array, what does the following code do?
Are there values of p1 or p2 that make this code illegal?</p>
</blockquote>
<pre><code class="lang-cpp">p1 += p2 - p1;
</code></pre>
<ul>
<li>It moves <code>p1</code> with the offest <code>p2 - p1</code>. After this statement, <code>p1</code> and <code>p2</code> points to the same address.</li>
<li>Any legal value.</li>
</ul>
<h2 id="-exercise-3-35-ex3-35-cpp"><a name="-exercise-3-35-ex3-35-cpp" class="plugin-anchor" href="#-exercise-3-35-ex3-35-cpp"><span class="fa fa-link"></span></a><a href="ex3_35.cpp">Exercise 3.35</a></h2>
<h2 id="-exercise-3-36-ex3-36-cpp"><a name="-exercise-3-36-ex3-36-cpp" class="plugin-anchor" href="#-exercise-3-36-ex3-36-cpp"><span class="fa fa-link"></span></a><a href="ex3_36.cpp">Exercise 3.36</a></h2>
<h2 id="exercise-3-37"><a name="exercise-3-37" class="plugin-anchor" href="#exercise-3-37"><span class="fa fa-link"></span></a>Exercise 3.37</h2>
<blockquote>
<p>What does the following program do?</p>
<pre><code class="lang-cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> ca[] = { <span class="hljs-string">&apos;h&apos;</span>, <span class="hljs-string">&apos;e&apos;</span>, <span class="hljs-string">&apos;l&apos;</span>, <span class="hljs-string">&apos;l&apos;</span>, <span class="hljs-string">&apos;o&apos;</span> };
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *cp = ca;
<span class="hljs-keyword">while</span> (*cp) {
    <span class="hljs-built_in">cout</span> &lt;&lt; *cp &lt;&lt; endl;
    ++cp;
}
</code></pre>
</blockquote>
<p>This code will print all characters in <code>ca</code>, afterwards as no <code>\0</code> appended, <strong>UB</strong> would happen. For most cases, the while loop here won&apos;t be terminated as expected and many rubbish would be printed out.</p>
<h2 id="exercise-3-38"><a name="exercise-3-38" class="plugin-anchor" href="#exercise-3-38"><span class="fa fa-link"></span></a>Exercise 3.38</h2>
<blockquote>
<p>In this section, we noted that it was not only illegal but meaningless to try to add two pointers.
Why would adding two pointers be meaningless?</p>
</blockquote>
<p>See:</p>
<ul>
<li><a href="http://stackoverflow.com/questions/2935038/why-cant-i-add-pointers" target="_blank">Why can&apos;t I add pointers</a></li>
</ul>
<h2 id="-exercise-3-39-ex3-39-cpp"><a name="-exercise-3-39-ex3-39-cpp" class="plugin-anchor" href="#-exercise-3-39-ex3-39-cpp"><span class="fa fa-link"></span></a><a href="ex3_39.cpp">Exercise 3.39</a></h2>
<h2 id="-exercise-3-40-ex3-40-cpp"><a name="-exercise-3-40-ex3-40-cpp" class="plugin-anchor" href="#-exercise-3-40-ex3-40-cpp"><span class="fa fa-link"></span></a><a href="ex3_40.cpp">Exercise 3.40</a></h2>
<h2 id="-exercise-3-41-ex3-41-cpp"><a name="-exercise-3-41-ex3-41-cpp" class="plugin-anchor" href="#-exercise-3-41-ex3-41-cpp"><span class="fa fa-link"></span></a><a href="ex3_41.cpp">Exercise 3.41</a></h2>
<h2 id="-exercise-3-42-ex3-42-cpp"><a name="-exercise-3-42-ex3-42-cpp" class="plugin-anchor" href="#-exercise-3-42-ex3-42-cpp"><span class="fa fa-link"></span></a><a href="ex3_42.cpp">Exercise 3.42</a></h2>
<h2 id="-exercise-3-43-ex3-43-cpp"><a name="-exercise-3-43-ex3-43-cpp" class="plugin-anchor" href="#-exercise-3-43-ex3-43-cpp"><span class="fa fa-link"></span></a><a href="ex3_43.cpp">Exercise 3.43</a></h2>
<h2 id="-exercise-3-44-ex3-44-cpp"><a name="-exercise-3-44-ex3-44-cpp" class="plugin-anchor" href="#-exercise-3-44-ex3-44-cpp"><span class="fa fa-link"></span></a><a href="ex3_44.cpp">Exercise 3.44</a></h2>
<h2 id="-exercise-3-45-ex3-45-cpp"><a name="-exercise-3-45-ex3-45-cpp" class="plugin-anchor" href="#-exercise-3-45-ex3-45-cpp"><span class="fa fa-link"></span></a><a href="ex3_45.cpp">Exercise 3.45</a></h2>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../cpp-primer/chapter2.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Chapter 2"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-collapsible-menu/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"disqus":{"shortName":"oncebooks"}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book 读书笔记 -->
</html>
